import pandas as pd
import matplotlib.pyplot as plt

# Your Python code here
try:
    # Load the CSV file into a Pandas DataFrame.  
    # Assuming the file is named 'data.csv' and it has columns 'N', 'P', 'K'
    df = pd.read_csv('data.csv')

    # Check if the necessary columns exist.  Crucial error handling!
    if not all(col in df.columns for col in ['N', 'P', 'K']):
        print("Error: 'data.csv' is missing columns 'N', 'P', or 'K'.")
        exit()  # Exit if there's an error

    # Calculate the ratio (e.g., N/P, N/K).  More flexible:
    df['N/P'] = df['N'] / df['P']
    df['N/K'] = df['N'] / df['K']


    # Plotting
    plt.figure(figsize=(10, 5)) # Adjust figure size if needed

    plt.subplot(1, 2, 1)
    plt.plot(df['N/P'], marker='o', linestyle='-')
    plt.xlabel('Index')  # Make x-axis label more descriptive
    plt.ylabel('N/P Ratio')
    plt.title('N/P Ratio Plot')
    
    plt.subplot(1, 2, 2)
    plt.plot(df['N/K'], marker='o', linestyle='-')
    plt.xlabel('Index')
    plt.ylabel('N/K Ratio')
    plt.title('N/K Ratio Plot')
    

    plt.tight_layout() # Important to prevent overlapping elements

    plt.savefig('output.png')
    plt.show() # This line displays the plot.


    print("Plots created and saved as 'output.png'.") # Print to console.

except FileNotFoundError:
    print("Error: File 'data.csv' not found.")
except pd.errors.EmptyDataError:
    print("Error: 'data.csv' is empty.")
except KeyError as e:
    print(f"Error: Column '{e}' not found in 'data.csv'.")
except Exception as e:
    print(f"An unexpected error occurred: {e}")

